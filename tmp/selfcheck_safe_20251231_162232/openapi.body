{"openapi":"3.1.0","info":{"title":"AI Content Workstation API","version":"0.1.0"},"paths":{"/assets":{"get":{"tags":["assets"],"summary":"Get Assets","operationId":"get_assets_assets_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Max items to return (default 50, max 200)","title":"Limit"},"description":"Max items to return (default 50, max 200)"},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Offset from start (default 0)","title":"Offset"},"description":"Offset from start (default 0)"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include soft-deleted assets","default":false,"title":"Include Deleted"},"description":"Include soft-deleted assets"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssetListOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assets/{asset_id}":{"get":{"tags":["assets"],"summary":"Get Asset Detail","operationId":"get_asset_detail_assets__asset_id__get","parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssetDetailOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["assets"],"summary":"Delete Asset","description":"Soft delete (idempotent).","operationId":"delete_asset_assets__asset_id__delete","parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssetDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/exports":{"post":{"tags":["exports"],"summary":"Exports Create","operationId":"exports_create_exports_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportCreateIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportCreateOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/exports/{export_id}":{"get":{"tags":["exports"],"summary":"Exports Get","operationId":"exports_get_exports__export_id__get","parameters":[{"name":"export_id","in":"path","required":true,"schema":{"type":"string","title":"Export Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportGetOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/exports/{export_id}/manifest":{"get":{"tags":["exports"],"summary":"Exports Manifest","operationId":"exports_manifest_exports__export_id__manifest_get","parameters":[{"name":"export_id","in":"path","required":true,"schema":{"type":"string","title":"Export Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportManifestOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/imports":{"post":{"tags":["imports"],"summary":"Imports Create","operationId":"imports_create_imports_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportCreateIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportCreateOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/imports/{import_id}":{"get":{"tags":["imports"],"summary":"Imports Get","operationId":"imports_get_imports__import_id__get","parameters":[{"name":"import_id","in":"path","required":true,"schema":{"type":"string","title":"Import Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportGetOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/runs":{"post":{"tags":["runs"],"summary":"Create Run","operationId":"create_run_runs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunCreateIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunCreateOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/runs/{run_id}":{"get":{"tags":["runs"],"summary":"Get Run","operationId":"get_run_runs__run_id__get","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunGetOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reviews":{"post":{"tags":["reviews"],"summary":"Post Review","operationId":"post_review_reviews_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCreateIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCreateOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/trash/empty":{"post":{"tags":["trash"],"summary":"Trash Empty","operationId":"trash_empty_trash_empty_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrashEmptyResponse"}}}}}}},"/shots":{"get":{"tags":["shots"],"summary":"Shots List","operationId":"shots_list_shots_get","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":50,"title":"Limit"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id"}},{"name":"series_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Series Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShotsListOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shots/{shot_id}":{"get":{"tags":["shots"],"summary":"Shots Detail","operationId":"shots_detail_shots__shot_id__get","parameters":[{"name":"shot_id","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Shot Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShotDetailOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shots/{shot_id}/links":{"post":{"tags":["shots"],"summary":"Shot Link Create","operationId":"shot_link_create_shots__shot_id__links_post","parameters":[{"name":"shot_id","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Shot Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShotLinkCreateIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShotLinkCreateOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shots/{shot_id}/links/{link_id}":{"delete":{"tags":["shots"],"summary":"Shot Link Delete Tombstone","description":"Delete semantics under append-only policy:\n- DO NOT delete from links table (SQLite trigger forbids DELETE).\n- Create a tombstone link: rel = unlink::<original_rel>, same dst_type/dst_id.","operationId":"shot_link_delete_tombstone_shots__shot_id__links__link_id__delete","parameters":[{"name":"shot_id","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Shot Id"}},{"name":"link_id","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Link Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShotLinkDeleteOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AssetDTO":{"properties":{"id":{"type":"string","title":"Id"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"deleted_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deleted At"},"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id"},"series_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Series Id"},"storage_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Path"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"},"duration_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Ms"}},"type":"object","required":["id"],"title":"AssetDTO"},"AssetDeleteResponse":{"properties":{"asset_id":{"type":"string","title":"Asset Id"},"deleted_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deleted At"},"already_deleted":{"type":"boolean","title":"Already Deleted","default":false},"status":{"type":"string","title":"Status","default":"deleted"}},"type":"object","required":["asset_id"],"title":"AssetDeleteResponse"},"AssetDetailOut":{"properties":{"asset":{"$ref":"#/components/schemas/AssetDTO"},"traceability":{"$ref":"#/components/schemas/TraceabilityOut"}},"type":"object","required":["asset","traceability"],"title":"AssetDetailOut"},"AssetListOut":{"properties":{"items":{"items":{"$ref":"#/components/schemas/AssetDTO"},"type":"array","title":"Items"},"page":{"$ref":"#/components/schemas/PageOut"}},"type":"object","required":["items","page"],"title":"AssetListOut"},"ExportCreateIn":{"properties":{"asset_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Asset Ids"},"include_deleted":{"type":"boolean","title":"Include Deleted","default":false},"include_binaries":{"type":"boolean","title":"Include Binaries","default":true},"include_proxies":{"type":"boolean","title":"Include Proxies","default":false},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","title":"ExportCreateIn"},"ExportCreateOut":{"properties":{"export_id":{"type":"string","title":"Export Id"},"status":{"type":"string","enum":["completed","failed"],"title":"Status"},"created_at":{"type":"string","title":"Created At"},"package_path":{"type":"string","title":"Package Path"},"manifest_path":{"type":"string","title":"Manifest Path"},"bundle_path":{"type":"string","title":"Bundle Path"},"counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Counts"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["export_id","status","created_at","package_path","manifest_path","bundle_path"],"title":"ExportCreateOut"},"ExportGetOut":{"properties":{"export_id":{"type":"string","title":"Export Id"},"status":{"type":"string","enum":["completed","failed"],"title":"Status"},"created_at":{"type":"string","title":"Created At"},"package_path":{"type":"string","title":"Package Path"},"manifest_path":{"type":"string","title":"Manifest Path"},"bundle_path":{"type":"string","title":"Bundle Path"},"counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Counts"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["export_id","status","created_at","package_path","manifest_path","bundle_path"],"title":"ExportGetOut"},"ExportManifestOut":{"properties":{"manifest_version":{"type":"string","title":"Manifest Version"},"export_id":{"type":"string","title":"Export Id"},"created_at":{"type":"string","title":"Created At"},"selection":{"additionalProperties":true,"type":"object","title":"Selection"},"tables":{"additionalProperties":true,"type":"object","title":"Tables"},"assets_preview":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Assets Preview"},"blobs":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Blobs"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["manifest_version","export_id","created_at"],"title":"ExportManifestOut"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImportCreateIn":{"properties":{"export_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Export Id"},"package_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Package Path"},"create_new_ids":{"type":"boolean","title":"Create New Ids","default":true},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","title":"ImportCreateIn"},"ImportCreateOut":{"properties":{"import_id":{"type":"string","title":"Import Id"},"status":{"type":"string","enum":["completed","failed"],"title":"Status"},"created_at":{"type":"string","title":"Created At"},"source":{"additionalProperties":true,"type":"object","title":"Source"},"counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Counts"},"id_map_size":{"type":"integer","title":"Id Map Size","default":0},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["import_id","status","created_at"],"title":"ImportCreateOut"},"ImportGetOut":{"properties":{"import_id":{"type":"string","title":"Import Id"},"status":{"type":"string","enum":["completed","failed"],"title":"Status"},"created_at":{"type":"string","title":"Created At"},"source":{"additionalProperties":true,"type":"object","title":"Source"},"counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Counts"},"id_map_size":{"type":"integer","title":"Id Map Size","default":0},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["import_id","status","created_at"],"title":"ImportGetOut"},"LinkedRefsSummary":{"properties":{"assets":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Assets"},"runs":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Runs"},"prompt_packs":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Prompt Packs"},"series":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Series"},"projects":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Projects"},"other":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Other"}},"type":"object","title":"LinkedRefsSummary"},"PageOut":{"properties":{"limit":{"type":"integer","minimum":1.0,"title":"Limit"},"offset":{"type":"integer","minimum":0.0,"title":"Offset"},"total":{"type":"integer","minimum":0.0,"title":"Total"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["limit","offset","total","has_more"],"title":"PageOut"},"PromptPackIn":{"properties":{"kind":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kind"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt"},"negative_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Negative Prompt"},"params":{"additionalProperties":true,"type":"object","title":"Params"},"references":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"References"},"extra":{"additionalProperties":true,"type":"object","title":"Extra"}},"type":"object","title":"PromptPackIn"},"ReviewCreateIn":{"properties":{"review_type":{"type":"string","enum":["sampled","manual","override"],"title":"Review Type","default":"manual"},"conclusion":{"type":"string","enum":["pass","fail","needs_work"],"title":"Conclusion"},"score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Score"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"},"run_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Id"},"asset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Asset Id"},"details":{"additionalProperties":true,"type":"object","title":"Details"}},"type":"object","required":["conclusion"],"title":"ReviewCreateIn"},"ReviewCreateOut":{"properties":{"review_id":{"type":"string","title":"Review Id"},"status":{"type":"string","title":"Status","default":"recorded"}},"type":"object","required":["review_id"],"title":"ReviewCreateOut"},"RunCreateIn":{"properties":{"run_type":{"type":"string","enum":["t2i","i2i","t2v","i2v"],"title":"Run Type","default":"t2i"},"prompt_pack":{"$ref":"#/components/schemas/PromptPackIn"}},"type":"object","required":["prompt_pack"],"title":"RunCreateIn"},"RunCreateOut":{"properties":{"run_id":{"type":"string","title":"Run Id"},"prompt_pack_id":{"type":"string","title":"Prompt Pack Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["run_id","prompt_pack_id","status"],"title":"RunCreateOut"},"RunGetOut":{"properties":{"run_id":{"type":"string","title":"Run Id"},"prompt_pack_id":{"type":"string","title":"Prompt Pack Id"},"status":{"type":"string","title":"Status"},"result_refs":{"additionalProperties":true,"type":"object","title":"Result Refs"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["run_id","prompt_pack_id","status"],"title":"RunGetOut"},"ShotDetailOut":{"properties":{"shot":{"$ref":"#/components/schemas/ShotOut"},"linked_refs":{"$ref":"#/components/schemas/LinkedRefsSummary"}},"type":"object","required":["shot","linked_refs"],"title":"ShotDetailOut"},"ShotLinkCreateIn":{"properties":{"dst_type":{"type":"string","minLength":1,"title":"Dst Type"},"dst_id":{"type":"string","minLength":1,"title":"Dst Id"},"rel":{"type":"string","minLength":1,"title":"Rel","default":"refs"}},"type":"object","required":["dst_type","dst_id"],"title":"ShotLinkCreateIn"},"ShotLinkCreateOut":{"properties":{"link_id":{"type":"string","title":"Link Id"},"src_type":{"type":"string","title":"Src Type"},"src_id":{"type":"string","title":"Src Id"},"dst_type":{"type":"string","title":"Dst Type"},"dst_id":{"type":"string","title":"Dst Id"},"rel":{"type":"string","title":"Rel"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["link_id","src_type","src_id","dst_type","dst_id","rel","created_at"],"title":"ShotLinkCreateOut"},"ShotLinkDeleteOut":{"properties":{"target_link_id":{"type":"string","title":"Target Link Id"},"tombstone_link_id":{"type":"string","title":"Tombstone Link Id"},"tombstone_rel":{"type":"string","title":"Tombstone Rel"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["target_link_id","tombstone_link_id","tombstone_rel","created_at"],"title":"ShotLinkDeleteOut"},"ShotListItem":{"properties":{"shot_id":{"type":"string","title":"Shot Id"},"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id"},"series_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Series Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["shot_id","created_at"],"title":"ShotListItem"},"ShotOut":{"properties":{"shot_id":{"type":"string","title":"Shot Id"},"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id"},"series_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Series Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["shot_id","created_at"],"title":"ShotOut"},"ShotsListOut":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ShotListItem"},"type":"array","title":"Items"},"page":{"$ref":"#/components/schemas/PageOut"}},"type":"object","required":["items","page"],"title":"ShotsListOut"},"TraceabilityOut":{"properties":{"links":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Links"},"related":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Related"}},"type":"object","title":"TraceabilityOut"},"TrashEmptyResponse":{"properties":{"status":{"type":"string","title":"Status"},"purged_assets":{"type":"integer","title":"Purged Assets"},"purged_files":{"type":"integer","title":"Purged Files"},"audit_event":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Audit Event"}},"type":"object","required":["status","purged_assets","purged_files"],"title":"TrashEmptyResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}